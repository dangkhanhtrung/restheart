!function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);p.length;)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={0:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="http://localhost:8800/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push(["Vtdi",1]),a()}({"0Y2e":function(t,e,a){},"A0++":function(t,e,a){"use strict";var n=a("tEb+");a.n(n).a},Vtdi:function(t,e,a){"use strict";a.r(e);var n={name:"App"},r=(a("A0++"),a("KHd+")),o=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},[],!1,null,null,null).exports,i=a("jE9Z"),s=a("hTPA"),l={home:"http://localhost:8080/ui/#/",vuejx:"http://localhost:8080/restheart/",security:"http://localhost:8080/security/",blog:"http://119.17.200.66:3001"};function c(t,e,a,n,r,o,i){try{var s=t[o](i),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(n,r)}var u=function(t,e){var a=Object(s.d)(""),n=Object(s.d)(""),r=Object(s.d)("");Object(s.b)(function(){o(),i()}),Object(s.a)(function(){o()});var o=function(){a.value="",n.value="",r.value=""},i=function(){n.value=localStorage.getItem("account")},u=function(){var t,o=(t=regeneratorRuntime.mark(function t(o){var i,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==o){t.next=7;break}return t.next=3,Vue.$axios.get(l.security+"clients",{params:{name:n.value}});case 3:void 0!==(i=t.sent)&&null!==i.data&&void 0!==i.data?(localStorage.setItem("clientId",i.data.clientId),localStorage.setItem("clientSecret",i.data.clientSecret),localStorage.setItem("account",i.data.name),a.value="",e.parent.$router.push("/forward")):a.value="Tài khoản đăng nhập không chính xác.",t.next=16;break;case 7:if(2!==o){t.next=16;break}return(s=new URLSearchParams).append("grant_type","password"),s.append("username",n.value),s.append("password",r.value),t.next=14,Vue.$axios.post(l.security+"oauth/token",s,{headers:{Authorization:"Basic "+btoa(localStorage.getItem("clientId")+":"+localStorage.getItem("clientSecret"))}}).catch(function(){a.value="Mật khẩu không chính xác."});case 14:void 0!==(c=t.sent)&&null!==c.data&&void 0!==c.data?(localStorage.setItem("token",c.data.token),localStorage.setItem("access_token",c.data.access_token),localStorage.setItem("refresh_token",c.data.refresh_token),localStorage.setItem("redirectUris",c.data.redirectUris),localStorage.setItem("isAuthenticated",!0),a.value="",window.location.href=l.home):(a.value="Mật khẩu không chính xác.",localStorage.setItem("isAuthenticated",!1));case 16:case"end":return t.stop()}},t)}),function(){var e=this,a=arguments;return new Promise(function(n,r){var o=t.apply(e,a);function i(t){c(o,n,r,i,s,"next",t)}function s(t){c(o,n,r,i,s,"throw",t)}i(void 0)})});return function(t){return o.apply(this,arguments)}}();return{error:a,userName:n,passWord:r,doLogin:u}},d={props:{api:{type:String,default:""}},setup:function(t,e){return u(t,e)},methods:{dkmmm:function(t){this.$auth.authenticate(t).then(function(t){console.log(t)})}}},p=Object(r.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-application",staticStyle:{"margin-top":"-60px",background:"#fff"}},[a("div",{staticClass:"wrapper wrapper-full-page",staticStyle:{width:"100%"}},[a("div",{staticClass:"page-header header-filter login-page"},[a("div",{staticClass:"container md-offset"},[a("div",{staticClass:"md-layout text-xs-center"},[a("div",{staticClass:"md-layout-item md-size-33 md-medium-size-50 md-small-size-70 md-xsmall-size-100"},[a("div",{staticClass:"md-card md-card-login md-theme-default"},[a("v-card",{staticClass:"mx-auto pa-5",attrs:{"max-width":"600","min-width":"380",outlined:""}},[null!==t.error&&""!==t.error?a("v-alert",{staticClass:"mb-5",attrs:{text:"",outlined:"",color:"deep-orange",transition:"slide-y-reverse-transition"}},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("div",{staticClass:"md-card-header md-card-header-green"},[a("h4",{staticClass:"title mb-2"},[t._v("Đăng nhập")]),t._v("Sử dụng Tài khoản của bạn\n                ")]),t._v(" "),a("div",{staticClass:"md-card-actions md-alignment-right mt-3 login__social__group"},[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"mdi-account-circle",label:"Tài khoản đăng nhập",type:"text","single-line":""},on:{keypress:function(e){return e.type.indexOf("key")||13===e.keyCode?(e.preventDefault(),t.doLogin(1)):null}},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),t._v(" "),a("v-btn",{staticClass:"my-3",attrs:{block:"",outlined:""},on:{click:function(e){return t.doLogin(1)}}},[t._v("Tiếp theo")]),t._v(" "),a("v-btn",{attrs:{outlined:"",text:""},on:{click:function(e){return t.dkmmm("google")}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("mdi-google")]),t._v("\n                      Đăng nhập\n                    ")],1)],1)],1)],1)],1)])])])])])])},[],!1,null,null,null).exports,m={props:{api:{type:String,default:""}},setup:function(t,e){return u(t,e)}},v=Object(r.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-application",staticStyle:{"margin-top":"-60px",background:"#fff"}},[a("div",{staticClass:"wrapper wrapper-full-page",staticStyle:{width:"100%"}},[a("div",{staticClass:"page-header header-filter login-page"},[a("div",{staticClass:"container md-offset"},[a("div",{staticClass:"md-layout text-xs-center"},[a("div",{staticClass:"md-layout-item md-size-33 md-medium-size-50 md-small-size-70 md-xsmall-size-100"},[a("div",{staticClass:"md-card md-card-login md-theme-default"},[a("v-card",{staticClass:"mx-auto pa-5",attrs:{"max-width":"600",outlined:""}},[null!==t.error&&""!==t.error?a("v-alert",{staticClass:"mb-5",attrs:{text:"",outlined:"",color:"deep-orange",transition:"slide-y-reverse-transition"}},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("div",{staticClass:"md-card-header md-card-header-green"},[a("h4",{staticClass:"title mb-2"},[t._v("Chào mừng")]),t._v(" "),a("v-chip",[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-circle")]),t._v("\n                    "+t._s(t.userName)+"\n                  ")],1)],1),t._v(" "),a("div",{staticClass:"md-card-actions md-alignment-right mt-3 login__social__group"},[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Nhập mật khẩu của bạn",type:"password","single-line":""},on:{keypress:function(e){return e.type.indexOf("key")||13===e.keyCode?(e.preventDefault(),t.doLogin(2)):null}},model:{value:t.passWord,callback:function(e){t.passWord=e},expression:"passWord"}}),t._v(" "),a("v-btn",{staticClass:"mt-3",attrs:{block:"",outlined:""},on:{click:function(e){return t.doLogin(2)}}},[t._v("Tiếp theo")])],1)],1)],1)],1)])])])])])])},[],!1,null,null,null).exports;window.Vue.use(i.a);var f=new i.a({routes:[{path:"/",name:"Login_Step1",component:p},{path:"/forward",name:"Login_Step2",component:v}]}),h=(a("1eg4"),a("p/7L")),g=a.n(h),y=a("vDqi"),b=a.n(y),_=a("McYY"),x=window.Vue;window.Vue.$axios=b.a,x.use(s.c),x.config.productionTip=!1,x.use(g.a,b.a),x.use(_.a,{baseUrl:"http://localhost:8080",providers:{google:{clientId:"602156503138-1hdra8ol4mka7me2t7aetop83ajir1fv.apps.googleusercontent.com",name:"google",url:"/vuejx/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:"http://localhost:8080/oauth2",requiredUrlParams:["scope"],optionalUrlParams:["display"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633}}}}),new x({el:"#app",vuetify:new Vuetify({icons:{iconfont:"mdi"}}),router:f,components:{App:o},template:"<App/>"})},"tEb+":function(t,e,a){var n=a("0Y2e");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a("SZ7m").default)("cae52036",n,!0,{})}});