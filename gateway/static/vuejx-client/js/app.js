!function(e){function t(t){for(var o,r,l=t[0],u=t[1],c=t[2],s=0,v=[];s<l.length;s++)r=l[s],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&v.push(a[r][0]),a[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(d&&d(t);v.length;)v.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={7:0},a={7:0},i=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{10:1,11:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="static/vuejx-client/css/"+({}[e]||e)+".css",a=l.p+o,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=(d=i[u]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===o||c===a))return t()}var s=document.getElementsByTagName("style");for(u=0;u<s.length;u++){var d;if((c=(d=s[u]).getAttribute("data-href"))===o||c===a)return t()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=t,v.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.request=o,delete r[e],v.parentNode.removeChild(v),n(i)},v.href=a,document.getElementsByTagName("head")[0].appendChild(v)}).then(function(){r[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=a[e]=[t,o]});t.push(n[2]=o);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=function(e){return l.p+"static/vuejx-client/js/"+({}[e]||e)+".js"}(e);var c=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}a[e]=void 0}};var s=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var d=c;i.push(["Vtdi",0,8]),n()}({"0Y2e":function(e,t,n){},"8SHQ":function(e,t,n){"use strict";var o={oauth2:"/oauth2/#/",vuejx:"/vuejx/",reindex:"/core/reindex",reindexAll:"/core/secure/reindexall",account:"/vuejx/account/secure/",async:"/vuejx/async/secure/",vuejxcfg:"vuejx_cfg/",workspace:"http://119.17.200.66:3001",blog:"http://119.17.200.66:3001"};n.d(t,"a",function(){return o})},"A0++":function(e,t,n){"use strict";var o=n("tEb+");n.n(o).a},BONj:function(e,t,n){"use strict";n.r(t);var o=n("8SHQ");t.default={graphqlQuery:function(e,t){e.state;return new Promise(function(e,n){var r=t.variables;r.token=localStorage.getItem("token"),window.Vue.$axios.post(o.a.vuejx,{query:t.query,variables:JSON.stringify(r)},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data)}).catch(function(e){n(e)})})},userById:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $id: String, $keys: JSON) {\n      userById: userById(token: $token, db: $db, collection: $collection, id: $id, keys: $keys)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,id:t.id,keys:t.keys})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userById)}).catch(function(e){console.log(e),n(null)})})},userByIds:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $ids: JSON, $limit: Int, $sort: JSON, $keys: JSON) {\n      userByIds: userByIds(token: $token, db: $db, collection: $collection, ids: $ids, limit: $limit, sort: $sort, keys: $keys)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,ids:t.ids,limit:t.limit,sort:t.sort,keys:t.keys})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userByIds)}).catch(function(e){console.log(e),n(null)})})},userOne:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $filter: JSON, $skip: Int, $sort: JSON, $keys: JSON) {\n      userOne: userOne(token: $token, db: $db, collection: $collection, filter: $filter, skip: $skip, sort: $sort, keys: $keys)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter,skip:t.skip,sort:t.sort,keys:t.keys})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userOne)}).catch(function(e){console.log(e),n(null)})})},userMany:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $filter: JSON, $skip: Int, $limit: Int, $sort: JSON, $keys: JSON) {\n      userMany: userMany(token: $token, db: $db, collection: $collection, filter: $filter, skip: $skip, limit: $limit, sort: $sort, keys: $keys)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter,skip:t.skip,limit:t.limit,sort:t.sort,keys:t.keys})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userMany)}).catch(function(e){console.log(e),n(null)})})},userPagination:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $filter: JSON, $sort: JSON, $keys: JSON, $page: Int, $perPage: Int) {\n      userPagination: userPagination(token: $token, db: $db, collection: $collection, filter: $filter, sort: $sort, keys: $keys, page: $page, perPage: $perPage)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter,sort:t.sort,keys:t.keys,page:t.page,perPage:t.perPage})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userPagination)}).catch(function(e){console.log(e),n(null)})})},userTotal:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String, $collection: String, $filter: JSON) {\n      userTotal: userTotal(token: $token, db: $db, collection: $collection, filter: $filter)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userTotal)}).catch(function(e){console.log(e),n(null)})})},userDb:function(e,t){e.state;return new Promise(function(e,t){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String) {\n      userDb: userDb(token: $token)\n    }",variables:JSON.stringify({token:localStorage.getItem("token")})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userDb)}).catch(function(e){console.log(e),t(null)})})},userCollection:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"query add($token: String, $db: String) {\n      userCollection: userCollection(token: $token, db: $db)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userCollection)}).catch(function(e){console.log(e),n(null)})})},userCreate:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $body: JSON) {\n      userCreate: userCreate(token: $token, db: $db, collection: $collection, body: $body)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,body:t.body})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userCreate)}).catch(function(e){console.log(e),n(null)})})},userCreateMany:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $body: JSON) {\n      userCreateMany: userCreateMany(token: $token, db: $db, collection: $collection, body: $body)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,body:t.body})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userCreateMany)}).catch(function(e){console.log(e),n(null)})})},userUpdateById:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $body: JSON) {\n      userUpdateById: userUpdateById(token: $token, db: $db, collection: $collection, body: $body)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,body:t.body})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userUpdateById)}).catch(function(e){console.log(e),n(null)})})},userUpdateOne:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $body: JSON, $filter: JSON, $sort: JSON, $skip: Int) {\n      userUpdateOne: userUpdateOne(token: $token, db: $db, collection: $collection, body: $body, filter: $filter, sort: $sort, skip: $skip)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,body:t.body,filter:t.filter,sort:t.sort,skip:t.skip})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userUpdateOne)}).catch(function(e){console.log(e),n(null)})})},userUpdateMany:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $body: JSON, $filter: JSON, $sort: JSON, $skip: Int, $limit: Int) {\n      userUpdateMany: userUpdateMany(token: $token, db: $db, collection: $collection, body: $body, filter: $filter, sort: $sort, skip: $skip, limit: $limit)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,body:t.body,filter:t.filter,sort:t.sort,skip:t.skip,limit:t.limit})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userUpdateMany)}).catch(function(e){console.log(e),n(null)})})},userRemoveById:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $id: String) {\n      userRemoveById: userRemoveById(token: $token, db: $db, collection: $collection, id: $id)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,id:t.id})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userRemoveById)}).catch(function(e){console.log(e),n(null)})})},userRemoveOne:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $filter: JSON, $sort: JSON) {\n      userRemoveOne: userRemoveOne(token: $token, db: $db, collection: $collection, filter: $filter, sort: $sort)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter,sort:t.sort})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userRemoveOne)}).catch(function(e){console.log(e),n(null)})})},userRemoveMany:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $filter: JSON) {\n      userRemoveMany: userRemoveMany(token: $token, db: $db, collection: $collection, filter: $filter)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,filter:t.filter})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t.data.data.userRemoveMany)}).catch(function(e){console.log(e),n(null)})})},reindex:function(e,t){e.state;return new Promise(function(e,n){window.Vue.$axios.post(o.a.vuejx,{query:"mutation add($token: String, $db: String, $collection: String, $from: String, $until: String, $type: String, $all: String) {\n      reindex: reindex(token: $token, db: $db, collection: $collection, from: $from, until: $until, type: $type, all: $all)\n    }",variables:JSON.stringify({token:localStorage.getItem("token"),db:t.db,collection:t.collection,from:t.from,until:t.until,type:String(t.type),all:t.all})},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),token:localStorage.getItem("token")}}).then(function(t){e(t)}).catch(function(e){console.log(e),n(null)})})}}},"CIa/":function(e,t,n){},GPr2:function(e,t,n){var o=n("CIa/");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("2fe63f4c",o,!0,{})},Jm28:function(e,t,n){"use strict";n.r(t),t.default={lastCall:!1,loadingBtn:!1}},KnQo:function(e,t,n){"use strict";function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(t);var r=n("xlMM"),a={};r.keys().forEach(function(e){if("./index.js"!==e){var t=o(e.replace(/(\.\/|\.js)/g,"").split("/"),2),n=t[0],i=t[1];a[n]||(a[n]={namespaced:!0}),a[n][i]=r(e).default}}),t.default=a},"O+ak":function(e,t,n){},QZz3:function(e,t,n){var o=n("O+ak");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("45b0c456",o,!0,{})},Vtdi:function(e,t,n){"use strict";n.r(t);var o={name:"App"},r=(n("A0++"),n("KHd+")),a=Object(r.a)(o,function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("router-view")],1)},[],!1,null,null,null).exports,i=n("jE9Z"),l=n("ConA"),u=n.n(l),c=n("8SHQ"),s=[{path:"*",component:function(){return n.e(11).then(n.bind(null,"7l0S"))}},{path:"/admin/:database?/:collection?/:site?",name:"Admin page",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(18).then(n.bind(null,"URd+"))},children:[{path:"/admin/:database?/:collection?/:site?",name:"Entities management",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(26).then(n.bind(null,"l2lb"))}},{path:"/admin/:database?/:collection?/:site?/:id",name:"Entities CRUD",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(17).then(n.bind(null,"2hq7"))}},{path:"/admin/:database?/:collection?/:site?/:id/extension",name:"Entities extension",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(15).then(n.bind(null,"3dNW"))}},{path:"/admin/:database?/:collection?/:site?/:id/async/:shortName/:storeCollection",name:"ASYNC extension",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(10).then(n.bind(null,"oQj7"))}},{path:"/admin/:database?/:collection?/:site?/file/storage",name:"File extension",meta:{requiresAuth:!0},props:!0,component:function(){return n.e(16).then(n.bind(null,"CkYi"))}}]},{path:"/web/:site?/:page?",name:"Web sites",props:!0,meta:{visibility:"web"},component:function(){return n.e(28).then(n.bind(null,"9y75"))},children:[{path:"/web/:site?/:page?",name:"Web pages",props:!0,meta:{visibility:"web"},component:function(){return n.e(6).then(n.bind(null,"sADc"))}}]},{path:"/group/:site?/:page?",name:"Group sites",props:!0,meta:{visibility:"group"},component:function(){return n.e(27).then(n.bind(null,"GfPz"))},children:[{path:"/group/:site?/:page?",name:"Group pages",props:!0,meta:{visibility:"group"},component:function(){return n.e(6).then(n.bind(null,"sADc"))}}]}],d=window.Vue;d.use(i.a),d.use(u.a);var v=new i.a({routes:s});v.afterEach(function(e,t){null===t.name&&setTimeout(function(){var e=document.getElementById("loading__mark");e.style.opacity=0,e.style.zIndex=-1},200)}),v.beforeEach(function(e,t,n){var o=e.matched.some(function(e){return e.meta.requiresAuth}),r=localStorage.getItem("isAuthenticated");o&&"false"===r?window.location.href=c.a.oauth2:setTimeout(function(){n()},0)});var f=v,m=n("L2JU"),p=n("KnQo");window.Vue.use(m.a);var h=new m.a.Store({modules:p.default}),g=(n("1eg4"),n("hTPA")),b=n("avyA"),y=n("pKFz"),_=n.n(y),k=n("vDqi"),x=n.n(k);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){w(a,o,r,i,l,"next",e)}function l(e){w(a,o,r,i,l,"throw",e)}i(void 0)})}}function j(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}var P=function(e,t){var n,o=Object(g.value)(!1),r=Object(g.value)(!1),a=Object(g.value)({}),i=Object(g.value)(e.data),l=Object(g.value)([]);Object(g.onMounted)(O(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.next=3,c();case 3:case"end":return e.stop()}},e)}))),Object(g.onDestroyed)(function(){u()});var u=function(){r.value=!1,o.value=!1,a.value={},i.value={},l.value={}},c=function(){var t=O(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.value=e.config,i.value=e.data,a.value.hasOwnProperty("data")&&(l.value[a.value.model+"_items"]=a.value.data),a.value.hasOwnProperty("itemText")||(a.value.itemText="_source.title"),a.value.hasOwnProperty("itemValue")||(a.value.itemValue="_source.shortName"),a.value.hasOwnProperty("sort")||(a.value.sort=[{order:"asc"},"_score"]),a.value.hasOwnProperty("column")||(a.value.column=["shortName","title","type"]),!a.value.hasOwnProperty("data")){t.next=11;break}l.value[a.value.model+"_items"]=a.value.data,t.next=21;break;case 11:if(!Array.isArray(i.value[a.value.model])){t.next=15;break}l.value[a.value.model+"_items"]=void 0!==i.value[a.value.model]?i.value[a.value.model]:[],t.next=21;break;case 15:if("object"!==S(i.value[a.value.model])){t.next=19;break}l.value[a.value.model+"_items"]=void 0!==i.value[a.value.model]?i.value[a.value.model]:[],t.next=21;break;case 19:return t.next=21,s();case 21:o.value=!0,r.value=!1;case 23:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),s=function(){var n=O(regeneratorRuntime.mark(function n(){var i,u,c,s,d,v,f,m,p,h,g,b,y,_,k,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.value){n.next=86;break}if(o.value=!1,!a.value.hasOwnProperty("link")){n.next=43;break}i=!0,u=!1,n.prev=5,s=j(a.value.link);case 7:return n.next=9,s.next();case 9:return d=n.sent,i=d.done,n.next=13,d.value;case 13:if(v=n.sent,i){n.next=25;break}if(f=v,"query search($token: String, $body: JSON, $db: String, $collection: String) {\n                        results: search(token: $token, body: $body, db: $db, collection: $collection )\n                    }",m={size:1e4,sort:a.value.sort,_source:{includes:a.value.column},query:{bool:{filter:{match:{site:e.site}},must:[{bool:{should:[]}}]}}},f.hasOwnProperty("condition")&&f.condition.length>0)for(p in f.condition)m.query.bool.must.push(f.condition[p]);return"dict_item"!==f.collection&&"vuejx_site"!==f.collection||(f.collection="dict_item",m.query.bool.must.push({match:{"dictCollection._source.shortName":f.dictCollection}})),n.next=22,t.parent.$store.dispatch("vuejx_manager/graphqlQuery",{query:"query search($token: String, $body: JSON, $db: String, $collection: String) {\n                        results: search(token: $token, body: $body, db: $db, collection: $collection )\n                    }",variables:{body:m,db:f.db,collection:f.collection}}).then(function(e){null!==e.results?l.value[a.value.model+"_items"]=e.results.hits.hits:l.value[a.value.model+"_items"]=[]}).catch(function(e){l.value[a.value.model+"_items"]=[]});case 22:i=!0,n.next=7;break;case 25:n.next=31;break;case 27:n.prev=27,n.t0=n.catch(5),u=!0,c=n.t0;case 31:if(n.prev=31,n.prev=32,i||null==s.return){n.next=36;break}return n.next=36,s.return();case 36:if(n.prev=36,!u){n.next=39;break}throw c;case 39:return n.finish(36);case 40:return n.finish(31);case 41:n.next=84;break;case 43:if(!a.value.hasOwnProperty("link_mongo")||""!==a.value.link_mongo){n.next=48;break}return n.next=46,t.parent.$store.dispatch("vuejx_manager/userDb",{}).then(function(e){void 0!==e&&e.hasOwnProperty("hits")&&e.hits.hasOwnProperty("hits")?l.value[a.value.model+"_items"]=e.hits.hits:l.value[a.value.model+"_items"]=[]}).catch(function(e){l.value[a.value.model+"_items"]=[]});case 46:n.next=84;break;case 48:if(!a.value.hasOwnProperty("link_mongo")||""===a.value.link_mongo){n.next=84;break}l.value[a.value.model+"_items"]=[],h=!0,g=!1,n.prev=52,y=j(a.value.link_mongo);case 54:return n.next=56,y.next();case 56:return _=n.sent,h=_.done,n.next=60,_.value;case 60:if(k=n.sent,h){n.next=68;break}return x=k,n.next=65,t.parent.$store.dispatch("vuejx_manager/userMany",{db:x.db,collection:x.collection,filter:x.filter,limit:1e3,keys:x.hasOwnProperty("keys")?x.keys:{shortName:1,title:1,type:1}}).then(function(e){void 0!==e&&e.hasOwnProperty("hits")&&e.hits.hasOwnProperty("hits")&&(console.log("datadatadata",e.hits.hits),l.value[a.value.model+"_items"]=e.hits.hits,console.log("12313",ormDataSource.value[a.value.model+"_items"]))}).catch(function(e){});case 65:h=!0,n.next=54;break;case 68:n.next=74;break;case 70:n.prev=70,n.t1=n.catch(52),g=!0,b=n.t1;case 74:if(n.prev=74,n.prev=75,h||null==y.return){n.next=79;break}return n.next=79,y.return();case 79:if(n.prev=79,!g){n.next=82;break}throw b;case 82:return n.finish(79);case 83:return n.finish(74);case 84:r.value=!0,o.value=!0;case 86:case"end":return n.stop()}},n,null,[[5,27,31,41],[32,,36,40],[52,70,74,84],[75,,79,83]])}));return function(){return n.apply(this,arguments)}}();return $(n={item:a,formData:i},"formData",i),$(n,"formDataSource",l),$(n,"render",r),$(n,"doChangeValue",function(){console.log(i.value)}),$(n,"pullDataSource",s),$(n,"rendered",o),n},D={name:"vuejx-autocomplete",props:{config:{type:String,default:"vuejx_cfg"},data:{type:String,default:"vuejx_db"},site:{type:String,default:"guest"}},setup:function(e,t){return P(e,t)}},I=Object(r.a)(D,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n    "+e._s(e.item.hasOwnProperty("label")?e.item.label:e.item.model)+"\n    "),e.item.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),n("v-autocomplete",{staticClass:"v__border",attrs:{items:e.formDataSource[e.item.model+"_items"],text:"",solo:"","hide-no-data":"","hide-details":"","item-text":e.item.itemText,"item-value":e.item.itemValue,multiple:!!e.item.multiple,"return-object":!!e.item.object,"small-chips":"","append-icon":(e.rendered,"$vuetify.icons.dropdown")},on:{focus:e.pullDataSource},model:{value:e.formData[e.item.model],callback:function(t){e.$set(e.formData,e.item.model,t)},expression:"formData[item['model']]"}})],1)},[],!1,null,null,null).exports,N=n("j7bB"),C={name:"vuejx-prototype",components:{DefaultScreen:function(){return Promise.all([n.e(0),n.e(2),n.e(3)]).then(n.bind(null,"gzPp"))}},props:{database:{type:String,default:""},collection:{type:String,default:""}},setup:function(e,t){return Object(N.a)(e,t)}},q=(n("f1uW"),Object(r.a)(C,function(){var e=this.$createElement,t=this._self._c||e;return t("v-sheet",{staticClass:"mx-auto vuejx__prototype mb-3"},[this.render?t("default-screen",{attrs:{config:this.metadataConfig,data:this.postData,id:this.id}}):this._e()],1)},[],!1,null,null,null).exports);function R(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){R(a,o,r,i,l,"next",e)}function l(e){R(a,o,r,i,l,"throw",e)}i(void 0)})}}var B=function(e,t){var n=Object(g.value)(!1),o=Object(g.value)(!1),r=Object(g.value)({}),a=Object(g.value)(e.data),i=Object(g.value)([]),l=Object(g.value)(!1),u=Object(g.value)({}),c=Object(g.value)([]);Object(g.onMounted)(A(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(),e.next=3,d();case 3:case"end":return e.stop()}},e)}))),Object(g.onDestroyed)(function(){s()});var s=function(){o.value=!1,n.value=!1,r.value={},a.value={},i.value={}},d=function(){var t=A(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.value=e.config,a.value=e.data;case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),v=function(){var n=A(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u.value.username=a.value.screenName,u.value.id=e.id,n.next=4,t.parent.$store.dispatch("vuejx_manager/putDBQuery",u.value).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),f=function(){var n=A(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.parent.$store.dispatch("vuejx_manager/userOne",{db:"oauth2",collection:"users",filter:{username:a.value.screenName}}).then(function(e){null!=e&&(u.value=e)}).catch(function(e){console.log(e)});case 2:return"query search($token: String, $body: JSON, $db: String, $collection: String) {\n            results: search(token: $token, body: $body, db: $db, collection: $collection )\n        }",o={size:1e4,sort:[{order:"asc"}],_source:{includes:["shortName","title","type"]},query:{bool:{filter:{match:{site:e.site}},must:[{match:{"status._source.shortName":"activate"}}]}}},n.next=6,t.parent.$store.dispatch("vuejx_manager/graphqlQuery",{query:"query search($token: String, $body: JSON, $db: String, $collection: String) {\n            results: search(token: $token, body: $body, db: $db, collection: $collection )\n        }",variables:{body:o,db:"directory",collection:"role"}}).then(function(e){null!==e.results?i.value.roles_items=e.results.hits.hits:i.value.roles_items=[]}).catch(function(e){i.value.roles_items=[]});case 6:l.value=!0;case 7:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return{item:r,formData:a,formDataSource:i,render:o,rendered:n,dialog:l,accountSubmit:v,accountData:u,accountDataSource:c,pullAccount:f}},J={name:"vuejx-account",props:{config:{type:String,default:"vuejx_cfg"},data:{type:String,default:"vuejx_db"},site:{type:String,default:"guest"},id:{type:String,default:""}},setup:function(e,t){return B(e,t)}},E=Object(r.a)(J,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-subheader",{staticClass:"vjx_label"}),e._v(" "),n("v-btn",{attrs:{block:"",color:"primary",dark:""},on:{click:function(t){return t.stopPropagation(),e.pullAccount(t)}}},[e._v("\n    "+e._s(e.item.label)+"\n  ")]),e._v(" "),n("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Account manager")]),e._v(" "),n("v-card-text",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n              Old password:\n            ")]),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:"",type:"password"},model:{value:e.accountData.oldPass,callback:function(t){e.$set(e.accountData,"oldPass",t)},expression:"accountData['oldPass']"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n              New password:\n            ")]),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:"",type:"password"},model:{value:e.accountData.newPass,callback:function(t){e.$set(e.accountData,"newPass",t)},expression:"accountData['newPass']"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n              Confirm password:\n            ")]),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:"",type:"password"},model:{value:e.accountData.confirmPass,callback:function(t){e.$set(e.accountData,"confirmPass",t)},expression:"accountData['confirmPass']"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n              Roles:\n            ")]),e._v(" "),e.dialog?n("v-autocomplete",{staticClass:"v__border",attrs:{items:e.formDataSource.roles_items,text:"",solo:"","hide-no-data":"","hide-details":"","item-text":"_source.title","item-value":"_source.shortName",multiple:!0,"return-object":!1,"small-chips":"","append-icon":(e.rendered,"$vuetify.icons.dropdown")},model:{value:e.accountData.roles,callback:function(t){e.$set(e.accountData,"roles",t)},expression:"accountData['roles']"}}):e._e()],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n              Scope:\n            ")]),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:""},model:{value:e.accountData.scope,callback:function(t){e.$set(e.accountData,"scope",t)},expression:"accountData['scope']"}})],1)],1)],1),e._v(" "),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),e._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.accountSubmit}},[e._v("\n          Submit\n        ")])],1)],1)],1)],1)},[],!1,null,null,null).exports;function M(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function T(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){M(a,o,r,i,l,"next",e)}function l(e){M(a,o,r,i,l,"throw",e)}i(void 0)})}}function V(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}var z=function(e,t){var n=Object(g.value)(!1),o=Object(g.value)(!1),r=Object(g.value)({}),a=Object(g.value)(e.data),i=Object(g.value)([]),l=Object(g.value)(!1),u=Object(g.value)({}),c=Object(g.value)([]),s=Object(g.value)([]),d=Object(g.value)({}),v=Object(g.value)(!1);Object(g.onMounted)(T(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(),e.next=3,m();case 3:v.value=!0;case 4:case"end":return e.stop()}},e)}))),Object(g.onDestroyed)(function(){f()});var f=function(){v.value=!1,o.value=!1,n.value=!1,r.value={},a.value={},i.value={},d.value={}},m=function(){var n=T(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.value=e.config,a.value=e.data,d.value[r.value.model]=[],"query search($token: String, $body: JSON, $db: String, $collection: String) {\n            results: search(token: $token, body: $body, db: $db, collection: $collection )\n        }",o={sort:[{order:"asc"}],_source:{includes:["shortName","title"]},query:{bool:{must:[{match:{"status._source.shortName":"activate"}}]}}},n.next=7,t.parent.$store.dispatch("vuejx_manager/graphqlQuery",{query:"query search($token: String, $body: JSON, $db: String, $collection: String) {\n            results: search(token: $token, body: $body, db: $db, collection: $collection )\n        }",variables:{body:o,db:"directory",collection:"permission"}}).then(function(e){if(void 0!==e.results&&null!==e.results){if(s.value=e.results.hits.hits,void 0!==a.value[r.value.model]&&null!==a.value[r.value.model]){i.value[r.value.model+"_items"]=[];var t=!0,n=!1,o=void 0;try{for(var l,u=s.value[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){var c=l.value,v=!0,f=!1,m=void 0;try{for(var p,h=a.value[r.value.model][Symbol.iterator]();!(v=(p=h.next()).done);v=!0){var g=p.value;if(String(c._source.shortName)===String(g.permission)){var b=String(r.value.itemValue).split("."),y=String(r.value.itemText).split(".");if(b.length>0){var _={};_[b[0]]={},_[b[0]][b[1]]=g.shortName,_[b[0]][y[1]]=g.title,void 0===d.value[r.value.model+"_"+c._source.shortName]&&(d.value[r.value.model+"_"+c._source.shortName]=[]),d.value[r.value.model+"_"+c._source.shortName].push(_),i.value[r.value.model+"_items"].push(_)}else{var k={};k[r.value.itemValue]=g.shortName,k[r.value.itemText]=g.title,i.value[r.value.model+"_items"].push(k)}}}}catch(e){f=!0,m=e}finally{try{v||null==h.return||h.return()}finally{if(f)throw m}}}}catch(e){n=!0,o=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw o}}}}else s.value=[]}).catch(function(e){s.value=[]});case 7:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),p=function(){var n=T(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u.value.username=a.value.screenName,u.value.id=e.id,n.next=4,t.parent.$store.dispatch("vuejx_manager/putDBQuery",u.value).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),h=function(){var e=T(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.parent.$store.dispatch("vuejx_manager/pullDB",{db:"oauth2",collection:"users",params:{filter:{username:a.value.screenName}}}).then(function(e){void 0!==e[0]&&(u.value=e[0])}).catch(function(e){console.log(e)});case 2:return e.next=4,t.parent.$store.dispatch("vuejx_manager/pullDB",{db:"directory",collection:"role",params:{filter:{"status._source.shortName":"activate"}}}).then(function(e){i.value.roles_items=e}).catch(function(e){console.log(e)});case 4:l.value=!0;case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var l=T(regeneratorRuntime.mark(function l(){var u,c,s,d,v,f,m,p,h;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o.value){l.next=53;break}if(n.value=!1,!r.value.hasOwnProperty("link")){l.next=43;break}u=!0,c=!1,l.prev=5,d=V(r.value.link);case 7:return l.next=9,d.next();case 9:return v=l.sent,u=v.done,l.next=13,v.value;case 13:if(f=l.sent,u){l.next=25;break}if(m=f,"query search($token: String, $body: JSON, $db: String, $collection: String) {\n                        results: search(token: $token, body: $body, db: $db, collection: $collection )\n                    }",p={sort:r.value.sort,_source:{includes:r.value.column},query:{bool:{filter:{match:{site:e.site}},must:[{bool:{should:[]}}]}}},m.hasOwnProperty("condition")&&m.condition.length>0)for(h in m.condition)p.query.bool.must.push(m.condition[h]);return"dict_item"===m.collection&&p.query.bool.must.push({match:{"dictCollection._source.shortName":a.value.dictCollection._source.shortName}}),l.next=22,t.parent.$store.dispatch("vuejx_manager/graphqlQuery",{query:"query search($token: String, $body: JSON, $db: String, $collection: String) {\n                        results: search(token: $token, body: $body, db: $db, collection: $collection )\n                    }",variables:{body:p,db:m.db,collection:m.collection}}).then(function(e){null!==e.results?i.value[r.value.model+"_items"]=e.results.hits.hits:i.value[r.value.model+"_items"]=[]}).catch(function(e){i.value[r.value.model+"_items"]=[]});case 22:u=!0,l.next=7;break;case 25:l.next=31;break;case 27:l.prev=27,l.t0=l.catch(5),c=!0,s=l.t0;case 31:if(l.prev=31,l.prev=32,u||null==d.return){l.next=36;break}return l.next=36,d.return();case 36:if(l.prev=36,!c){l.next=39;break}throw s;case 39:return l.finish(36);case 40:return l.finish(31);case 41:l.next=51;break;case 43:if(!r.value.hasOwnProperty("link_mongo")||""!==r.value.link_mongo){l.next=48;break}return l.next=46,t.parent.$store.dispatch("vuejx_manager/pullDBList",{db:"",params:{pagesize:1e3}}).then(function(e){i.value[r.value.model+"_items"]=e}).catch(function(e){i.value[r.value.model+"_items"]=[]});case 46:l.next=51;break;case 48:if(!r.value.hasOwnProperty("link_mongo")||""===r.value.link_mongo){l.next=51;break}return l.next=51,t.parent.$store.dispatch("vuejx_manager/pullDBList",{db:r.value.link_mongo,params:{pagesize:1e3}}).then(function(e){i.value[r.value.model+"_items"]=e}).catch(function(e){i.value[r.value.model+"_items"]=[]});case 51:o.value=!0,n.value=!0;case 53:case"end":return l.stop()}},l,null,[[5,27,31,41],[32,,36,40]])}));return function(){return l.apply(this,arguments)}}();return{item:r,formData:a,formDataSource:i,render:o,rendered:n,dialog:l,accountSubmit:p,accountData:u,accountDataSource:c,pullAccount:h,permissionList:s,pullDataSource:b,roleData:d,inject:v,changeData:function(){for(var e in a.value[r.value.model]=[],d.value){var t=e.replace(r.value.model+"_","");console.log("permission",t);var n=!0,o=!1,i=void 0;try{for(var l,u=d.value[e][Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value,s=JSON.parse(JSON.stringify(c)),v=String(r.value.itemValue).split(".");for(var f in v)c=c[v[f]];var m=String(r.value.itemText).split(".");for(var p in m)s=s[m[p]];a.value[r.value.model].push({shortName:c,title:s,permission:t})}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}}}},U={name:"vuejx-role",props:{config:{type:String,default:"vuejx_cfg"},data:{type:Object,default:{}},site:{type:String,default:"guest"},id:{type:String,default:""}},setup:function(e,t){return z(e,t)}},G=Object(r.a)(U,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n    "+e._s(e.item.label)+"\n  ")]),e._v(" "),n("div",{staticStyle:{border:"1px solid gainsboro"}},[n("div",{staticClass:"pa-3",class:void 0!==e.item.color?e.item.color:"yellow lighten-5"},e._l(e.permissionList,function(t,o){return n("div",{key:o},[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(t._source.title)+"\n        ")]),e._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[e.item.ext?n("v-flex",{attrs:{xs12:""}},[n("v-combobox",{staticClass:"v__border",attrs:{items:e.formDataSource[e.item.model+"_items"],"hide-selected":"",multiple:"","persistent-hint":"","small-chips":"",text:"",solo:"","item-text":e.item.itemText,"item-value":e.item.itemValue,"return-object":!0},scopedSlots:e._u([{key:"no-data",fn:function(){return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("\n                        Press\n                        "),n("kbd",[e._v("enter")]),e._v("\n                        to create a new "+e._s(e.item.model)+"\n                      ")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.roleData[e.item.model],callback:function(t){e.$set(e.roleData,e.item.model,t)},expression:"roleData[item['model']]"}})],1):n("v-flex",{attrs:{xs12:""}},[n("v-autocomplete",{staticClass:"v__border",attrs:{items:e.formDataSource[e.item.model+"_items"],text:"",solo:"","hide-no-data":"","hide-details":"","item-text":e.item.itemText,"item-value":e.item.itemValue,multiple:!0,"return-object":!0,"small-chips":"","append-icon":(e.rendered,"$vuetify.icons.dropdown")},on:{focus:e.pullDataSource,change:e.changeData},model:{value:e.roleData[e.item.model+"_"+t._source.shortName],callback:function(n){e.$set(e.roleData,e.item.model+"_"+t._source.shortName,n)},expression:"roleData[item['model'] + '_' + el['_source']['shortName']]"}})],1)],1)],1)}),0)])],1)},[],!1,null,null,null).exports;function W(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){W(a,o,r,i,l,"next",e)}function l(e){W(a,o,r,i,l,"throw",e)}i(void 0)})}}var Q=function(e,t){var n=Object(g.value)(!1),o=Object(g.value)([]);Object(g.onMounted)(L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,a();case 3:case"end":return e.stop()}},e)}))),Object(g.onDestroyed)(function(){r()});var r=function(){o.value=[]},a=function(){var e=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.value=[],e.next=3,t.parent.$store.dispatch("vuejx_manager/pullDB",{db:"vuejx_cfg",collection:"demo.files"}).then(function(e){void 0!==e._embedded&&null!==e._embedded&&(o.value=e._embedded)}).catch(function(e){console.log(e),o.value=[]});case 3:console.log(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return{rendered:n,collections:o}},K={name:"vuejx-masonry",props:{},setup:function(e,t){return Q(e,t)}},Z=(n("fGdk"),Object(r.a)(K,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card_masonrys"},e._l(e.collections,function(t,o){return n("div",{key:o,staticClass:"card_masonry"},[n("div",{staticClass:"card_masonry-content"},[void 0!==t._links?n("img",{attrs:{src:"/core"+t._links["rh:data"].href,alt:t.filename}}):n("img",{attrs:{alt:"no image"}}),e._v(" "),n("br"),e._v(" "),t.hasOwnProperty("metadata")&&t.metadata.hasOwnProperty("filename")?n("h4",[e._v(" "+e._s(t.metadata.filename))]):n("h4",[e._v(e._s(t.filename))]),e._v(" "),n("div",[e._v("size: "+e._s(t.chunkSize)+" KB")]),e._v(" "),n("div",{class:{"mb-2":t.hasOwnProperty("metadata")}},[e._v("uploadDate: "+e._s(void 0!==t.uploadDate?new Date(t.uploadDate.$date).toLocaleDateString():""))]),e._v(" "),e._l(t.metadata,function(t,o){return n("div",{key:o},["_etag"!==o&&"filename"!==o?n("div",[e._v("\n          "+e._s(o)+" : "+e._s(t)+"\n        ")]):e._e()])})],2)])}),0)},[],!1,null,null,null).exports),F=(n("0wR0"),n("hUol")),Y=n.n(F);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function ee(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){X(a,o,r,i,l,"next",e)}function l(e){X(a,o,r,i,l,"throw",e)}i(void 0)})}}function te(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}var ne=function(){return Promise.all([n.e(1),n.e(24)]).then(n.t.bind(null,"RTAS",7))},oe=function(){return Promise.all([n.e(1),n.e(22)]).then(n.t.bind(null,"sDba",7))},re=function(){return Promise.all([n.e(1),n.e(9)]).then(n.t.bind(null,"wxJr",7))},ae=function(){return n.e(21).then(n.t.bind(null,"/Dhl",7))},ie=function(){return n.e(23).then(n.t.bind(null,"vsFi",7))},le=function(){return n.e(20).then(n.t.bind(null,"2OW5",7))},ue=function(){return n.e(19).then(n.t.bind(null,"Vm4X",7))},ce=function(){return n.e(12).then(n.t.bind(null,"d3G/",7))},se={install:function(e){e.component("vuejx-header",ne),e.component("vuejx-drawers",oe),e.component("vuejx-content",ae),e.component("vuejx-footer",ie),e.component("vuejx-upload",le),e.component("vuejx-chart",ue),e.component("vuejx-prototype",q),e.component("vuejx-menu-aggs",ce),e.use(b.a),e.use(_.a),e.component("vuejx-table",re),e.component(I.name,I),e.component(E.name,E),e.component(G.name,G),e.component(Z.name,Z)}};Y.a.options={closeButton:!0,timeOut:"6000"},window.Vue.toastr=Y.a,window.Vue.$axios=x.a,window.Vue.redirect=function(){var e=ee(regeneratorRuntime.mark(function e(t,n,o,r){var a,i,l,u,c,s,d,v,f,m,p,h,g,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=window.location.hash.substring(window.location.hash.indexOf("?")+1),i="",window.location.hash.startsWith("#/")?(l=window.location.hash.split("?"),u=H(l,2),c=u[0],u[1],i=c):i=window.location.pathname,""!==o&&null!=o&&(i=o),s=/[?&]([^=#]+)=([^&#]*)/g,d={},v={};v=s.exec("&"+a);)d[v[1]]=decodeURIComponent(v[2]);for(null==t&&(t=[]),f=!0,m=!1,p=void 0,e.prev=10,h=t[Symbol.iterator]();!(f=(g=h.next()).done);f=!0)b=g.value,d[b.key]=b.value;e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),m=!0,p=e.t0;case 18:e.prev=18,e.prev=19,f||null==h.return||h.return();case 21:if(e.prev=21,!m){e.next=24;break}throw p;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(y in delete d[void 0],delete d.null,i+="?",r&&(d=[]),d)"t"!==y&&""!==d[y]&&void 0!==d[y]&&null!==d[y]&&(i+=y+"="+d[y]+"&");i=i.replace(/&$/,"").replace(/\?$/,""),n&&(i.indexOf("?")>0?i+="&t="+(new Date).getTime():i+="?t="+(new Date).getTime()),window.Vue.$router.push(i.replace(/#/,""));case 34:case"end":return e.stop()}},e,null,[[10,14,18,26],[19,,21,25]])}));return function(t,n,o,r){return e.apply(this,arguments)}}(),Vue.vuejxOrder=function(){var e=ee(regeneratorRuntime.mark(function e(t,n){var o,r,a,i,l,u,c,s,d,v,f,m,p,h,g,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o={},r={},a={},i=!0,l=!1,e.prev=5,c=te(t);case 7:return e.next=9,c.next();case 9:return s=e.sent,i=s.done,e.next=13,s.value;case 13:if(d=e.sent,i){e.next=20;break}"onGroup"===(v=d).fn?o[v.e.fieldName]=window.Vue.colMapping[v.e.fieldName]:"onSortBy"===v.fn&&("ascending"===v.e.direction?r[v.e.fieldName]=window.Vue.colMapping[v.e.fieldName]:"descending"===v.e.direction&&(a[v.e.fieldName]=window.Vue.colMapping[v.e.fieldName]));case 17:i=!0,e.next=7;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(5),l=!0,u=e.t0;case 26:if(e.prev=26,e.prev=27,i||null==c.return){e.next=31;break}return e.next=31,c.return();case 31:if(e.prev=31,!l){e.next=34;break}throw u;case 34:return e.finish(31);case 35:return e.finish(26);case 36:for(h in f=[],m=[],p=[],r)f.push(r[h]);for(g in a)m.push(a[g]);for(b in o)p.push(o[b]);y=[{key:"_asc",value:f.toString()},{key:"_desc",value:m.toString()},{key:"_group",value:p.toString()}],null!=n&&!1===n&&(y=[]),Vue.redirect(y);case 43:case"end":return e.stop()}},e,null,[[5,22,26,36],[27,,31,35]])}));return function(t,n){return e.apply(this,arguments)}}(),x.a.interceptors.request.use(function(){var e=ee(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.data)for(n in t.data)""===t.data[n]?delete t.data[n]:Array.isArray(t.data[n])&&0===t.data[n].length&&delete t.data[n];return e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){return Promise.reject(e)}),window.Vue.$axios.interceptors.response.use(function(e){return e},function(e){if(void 0===e.response||401!==e.response.status)return void 0!==e.response&&400===e.response.status?(Y.a.error(e.response.data._warnings),Promise.reject(e)):Promise.reject(e);window.location="/oauth2"});var de=n("461s"),ve=window.Vue;ve.use(se),ve.use(de.a),ve.config.productionTip=!1,window.Vue.$router=f,ve.use(g.plugin),new ve({el:"#app",vuetify:new Vuetify({icons:{iconfont:"mdi"}}),router:f,store:h,components:{App:a},template:"<App/>"})},f1uW:function(e,t,n){"use strict";var o=n("QZz3");n.n(o).a},fGdk:function(e,t,n){"use strict";var o=n("GPr2");n.n(o).a},j7bB:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue_function_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("hTPA");function asyncGeneratorStep(e,t,n,o,r,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){asyncGeneratorStep(a,o,r,i,l,"next",e)}function l(e){asyncGeneratorStep(a,o,r,i,l,"throw",e)}i(void 0)})}}function service(props,ctx){var id=Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.value)(window.Vue.$router.history.current.query._id),metadataConfig=Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.value)({}),postData=Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.value)({}),render=Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.value)(!1);Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.onMounted)(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return clean(),e.next=3,init();case 3:case"end":return e.stop()}},e)}))),Object(vue_function_api__WEBPACK_IMPORTED_MODULE_0__.onDestroyed)(function(){clean()});var clean=function(){metadataConfig.value={},render.value=!1,postData.value={}},init=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return render.value=!1,e.next=3,pullDetail();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),pullConfig=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(console.log("props.collectionprops.collectionprops.collection",props.collection),""===props.collection){_context3.next=4;break}return _context3.next=4,ctx.parent.$store.dispatch("vuejx_manager/userOne",{db:"vuejx_cfg",collection:"vuejx_collection",filter:{shortName:props.collection},keys:{metadataConfig:1}}).then(function(data){if(null!=data){var form=eval("("+data.metadataConfig+")").form;metadataConfig.value=form.filter(function(e){return!e.hasOwnProperty("view")||"guest"===e.view}),console.log("metadataConfig.valuemetadataConfig.valuemetadataConfig.valuemetadataConfig.value",metadataConfig.value)}else metadataConfig.value={};render.value=!0}).catch(function(e){metadataConfig.value={},render.value=!0});case 4:case"end":return _context3.stop()}},_callee3)}));return function(){return _ref3.apply(this,arguments)}}(),pullDetail=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pullConfig();case 2:return e.next=4,ctx.parent.$store.dispatch("vuejx_manager/userById",{db:props.database,collection:props.collection,id:id.value}).then(function(e){postData.value=e}).catch(function(e){postData.value={}});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return{id:id,metadataConfig:metadataConfig,postData:postData,render:render}}__webpack_exports__.a=service},k0KU:function(e,t,n){"use strict";n.r(t);var o=n("WTW0");t.default={getField:o.a}},"tEb+":function(e,t,n){var o=n("0Y2e");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("cae52036",o,!0,{})},vYZG:function(e,t,n){"use strict";n.r(t);var o=function(e){return function(t,n){return t[e]=n}},r=n("WTW0");t.default={lastCall:o("lastCall"),loadingBtn:o("loadingBtn"),updateField:r.b}},xlMM:function(e,t,n){var o={"./index.js":"KnQo","./vuejx_manager/actions.js":"BONj","./vuejx_manager/getters.js":"k0KU","./vuejx_manager/mutations.js":"vYZG","./vuejx_manager/state.js":"Jm28"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="xlMM"}});